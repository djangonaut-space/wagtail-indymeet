{% extends "admin/base_site.html" %}
{% load i18n static %}

{% block extrastyle %}{{ block.super }}
<style>
    /* Admin Styles with Dark Mode Support */

    .stats-summary {
        background: var(--body-bg, #fff);
        padding: 20px;
        margin-bottom: 20px;
        border-bottom: 1px solid var(--hairline-color, #eee);
    }

    .stats-summary h2 {
        margin: 0 0 15px 0;
        font-size: 18px;
        color: var(--body-fg, #333);
        border-bottom: none;
    }

    .stats-counts {
        display: flex;
        gap: 30px;
        margin-bottom: 10px;
    }

    .stat {
        display: flex;
        flex-direction: column;
    }

    .stat span {
        font-size: 13px;
        color: var(--body-quiet-color, #666);
        text-transform: uppercase;
    }

    .stat strong {
        font-size: 24px;
        font-weight: normal;
        color: var(--body-fg, #333);
    }

    /* Activity Sections */
    h3 {
        font-size: 14px;
        text-transform: uppercase;
        color: var(--body-quiet-color, #666);
        border-bottom: 1px solid var(--hairline-color, #ccc);
        padding-bottom: 5px;
        margin-top: 30px;
        margin-bottom: 15px;
    }

    .merged-prs h3 {
        color: var(--message-success-bg, #28a745);
    }

    .open-prs h3 {
        color: var(--link-fg, #007bff);
    }

    .closed-prs h3 {
        color: var(--body-quiet-color, #666);
    }

    .open-issues h3 {
        color: var(--message-warning-bg, #fd7e14);
    }

    ul {
        list-style: none;
        padding: 0;
    }

    li {
        background: var(--body-bg, #fff);
        padding: 10px 0;
        border-bottom: 1px solid var(--hairline-color, #eee);
    }

    li strong {
        font-size: 14px;
        font-weight: bold;
        color: var(--body-fg, #333);
    }

    .meta-row {
        font-size: 12px;
        color: var(--body-quiet-color, #666);
        margin: 3px 0;
    }

    .repo {
        color: var(--body-fg, #444);
        font-weight: bold;
    }

    .back-actions {
        margin-top: 30px;
        padding-top: 20px;
        border-top: 1px solid var(--hairline-color, #eee);
    }

    /* Standard Admin Button Styles */
    .button {
        background: var(--primary, #79aec8);
        padding: 10px 15px;
        border: none;
        border-radius: 4px;
        color: var(--primary-fg, white);
        text-transform: uppercase;
        font-size: 11px;
        letter-spacing: 0.5px;
        cursor: pointer;
        display: inline-block;
        text-decoration: none;
    }

    .button:hover {
        background: var(--primary-hover, #609ab6);
    }

    .button.back {
        background: var(--close-button-bg, #999);
    }

    .button.back:hover {
        background: var(--close-button-hover-bg, #888);
    }

    .authors-row {
        margin-top: 15px;
        border-top: 1px solid var(--hairline-color, #eee);
        padding-top: 10px;
        font-size: 0.9em;
        color: var(--body-quiet-color, #666);
    }

    .no-activity {
        text-align: center;
        padding: 50px;
        color: var(--body-quiet-color, #666);
        background: var(--darkened-bg, #f9f9f9);
        border-radius: 8px;
    }

    a {
        color: var(--link-fg, #007bff);
    }

    a:hover {
        color: var(--link-hover-color, #0056b3);
    }
</style>
{% endblock %}

{% block breadcrumbs %}
<div class="breadcrumbs">
    <a href="{% url 'admin:index' %}">{% trans 'Home' %}</a>
    &rsaquo; <a href="{% url 'admin:app_list' app_label=opts.app_label %}">{{ opts.app_config.verbose_name }}</a>
    &rsaquo; <a href="{% url 'admin:home_session_changelist' %}">{{ opts.verbose_name_plural|capfirst }}</a>
    &rsaquo; {% trans 'GitHub Stats Results' %}
</div>
{% endblock %}

{% block content %}
<div id="content-main">
    <h1>Stats Results for "{{ session.title }}"</h1>

    <!-- Rendered HTML Report -->
    {{ report_html|safe }}

    <div class="back-actions">
        <a href="{% url 'admin:home_session_changelist' %}" class="button back">Back to Sessions</a>
    </div>
</div>
{% endblock %}
